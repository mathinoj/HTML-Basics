<% layout('/layouts/boilerplate') %>
<h1>My Cards</h1>
<div class="card-body">
    <% for(let theCards of myCards) { %>
    <!--  -->
    <% if(currentUser._id == theCards.author.id){ %>
    <div class="card mb-3" style="width: 15rem">
        <div class="card-header">Card</div>
        <div class="card-body">
            <h3 class="card-text"><%= theCards.english%></h3>
            <h6 class="card-text">Author: <%= theCards.author.username%></h6>
            <a href="/cards/<%=theCards._id%>" class="btn btn-primary"
                >View Card</a
            >
        </div>
        <form action="/cards/myCards">
            <div class="form-check">
                <input
                    class="form-check-input"
                    type="checkbox"
                    id="flexCheckDefault"
                    name="checkTester"
                    value="<%=theCards._id%>"
                    onchange="this.form.submit();"
                />
                <label class="form-check-label" for="flexCheckDefault">
                    Test Card
                </label>
            </div>
        </form>
        <div>
            <a href="/cards/<%=theCards._id%>" class="btn">Remove Card</a>
        </div>
    </div>
    <% }} %>
    <!--  -->
    <% for(let showThems of showHim) {%>
    <!--  -->
    <% let y =showThems.addedCard%>
    <!--  -->
    <% if(currentUser.id == showThems.addedCard || y.includes(currentUser.id) ==
    true) { %>
    <div class="card mb-3" style="width: 15rem">
        <div class="card-header">Card</div>
        <div class="card-body">
            <h3 class="card-text"><%= showThems.english%></h3>
            <h6 class="card-text">Author: <%= showThems.author.username %></h6>
            <a href="/cards/<%=showThems.id%>" class="btn btn-primary"
                >View Card</a
            >
        </div>

        <form action="/cards/myCards">
            <div class="form-check">
                <input
                    class="form-check-input"
                    type="checkbox"
                    id="flexCheckDefault"
                    name="checkTesterTwo"
                    value="<%=showThems._id%>"
                    onchange="this.form.submit();"
                />
                <label class="form-check-label" for="flexCheckDefault">
                    Test Card
                </label>
            </div>
        </form>
        <form
            class="d-inline"
            action="/cards/myCards/<%=showThems.id%>?_method=PUT"
            method="POST"
        >
            <button class="btn">Remove Card</button>
        </form>
    </div>
    <% }} %> <% console.log('break') %>
</div>

// value="<=allCard._id%>"
